
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Nilearn: Machine learning for NeuroImaging in Python &mdash; Machine learning for NeuroImaging</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Machine learning for NeuroImaging" href="../index.html" />
    <link rel="up" title="5. Manipulation brain volumes with nilearn" href="index.html" />
    <link rel="next" title="5.2. Manipulating images: resampling, smoothing, masking, ROIs..." href="manipulating_images.html" />
    <link rel="prev" title="5. Manipulation brain volumes with nilearn" href="index.html" />
<meta content="True" name="HandheldFriendly">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="keywords" content="nilearn, neuroimaging, python, neuroscience, machinelearning">
<script type="text/javascript">
$(function () {
    // Lock the table of content to a fixed position once we scroll enough
    var top = 105 + $('.sphinxsidebarwrapper').offset().top - parseFloat($('.sphinxsidebarwrapper').css('margin-top').replace(/auto/, 0)),
        sections = {},
        i        = 0,
	url	 = document.URL.replace(/#.*$/, ""),
	current_section = 0;

    // Grab positions of our sections
    $('.headerlink').each(function(){
        sections[this.href.replace(url, '')] = $(this).offset().top - 50;
    });

    $(window).scroll(function(event) {
	var pos   = $(window).scrollTop();
	// Lock the table of content to a fixed position once we scroll enough
	if(pos > top){
	    //begin to scroll
	    $('.sphinxsidebarwrapper').css("position", "fixed");
	    $('.sphinxsidebarwrapper').css("top", -105);
	}
	else{
	    //lock it back into place
	    $('.sphinxsidebarwrapper').css("position", "relative");
	    $('.sphinxsidebarwrapper').css("top",0);
	}

	// Highlight the current section
	$('a.internal').removeClass('active');
        for(i in sections){
            if(sections[i] > pos){
		break;
            };
	    if($('a.internal[href$="' + i + '"]').is(':visible')){
		current_section = i;
	    };
        }
	$('a.internal[href$="' + current_section + '"]').addClass('active');
    });

});
</script>


<script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

  </head>
  <body>
<div id="logo-banner">
  <div class="logo">
    <a href="../index.html">
      <img src="../_static/nilearn-logo.png" alt="Nilearn logo"  border="0" />
    </a>
  </div>
  <!-- A tag cloud to make it easy for people to find what they are
                         looking for -->
 <div class="tags">
  <ul>
    <li>
      <big><a href="../auto_examples/decoding/plot_haxby_anova_svm.html">SVM</a></big>
    </li>
    <li>
      <small><a href="../connectivity/parcellating.html">Ward
          clustering</a></small>
    </li>
    <li>
      <a href="../decoding/searchlight.html">Searchlight</a>
    </li>
    <li>
      <big><a href="../connectivity/resting_state_networks.html">ICA</a></big>
    </li>
    <li>
      <a href="data_preparation.html">Nifti IO</a>
    </li>
    <li>
      <a href="../modules/reference.html#module-nilearn.datasets">Datasets</a>
    </li>
  </ul>
 </div>

  <div class="banner">
    <h1>Nilearn:</h1>
    <h2>Machine learning for Neuro-Imaging in Python</h2>
  </div>
  <div class="search_form">
    <div id="cse" style="width: 100%;"></div>
    <script src="http://www.google.com/jsapi" type="text/javascript"></script>
    <script type="text/javascript">
      google.load('search', '1', {language : 'en'});
      google.setOnLoadCallback(function() {
      var customSearchControl = new google.search.CustomSearchControl('014136483057745874622:r-npolb1uki');
      customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
      var options = new google.search.DrawOptions();
      options.setAutoComplete(true);
      customSearchControl.draw('cse', options);
      }, true);
    </script>
  </div>
</div>



    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="manipulating_images.html" title="5.2. Manipulating images: resampling, smoothing, masking, ROIs..."
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="index.html" title="5. Manipulation brain volumes with nilearn"
             accesskey="P">previous</a> |</li>
<li><a href="../index.html">Nilearn Home</a> |&nbsp;</li>
<li><a href="../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../modules/reference.html">Reference</a> |&nbsp;</li>
<li id="navbar-about"><a href="../authors.html">About</a>|&nbsp;</li>
<li id="navbar-ecosystem"><a href="http://www.nipy.org/">Nipy ecosystem</a></li>

          <li><a href="../user_guide.html" >User guide: table of contents</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">5. Manipulation brain volumes with nilearn</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">


<h4> Giving credit </h4>
  <ul class="simple">
    <li><p>Please consider <a href="../authors.html#citing">citing the
                    papers</a>.</p></li>
  </ul>

  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">5.1. Input and output: neuroimaging data representation</a><ul>
<li><a class="reference internal" href="#inputing-data-file-names-or-image-objects">5.1.1. Inputing data: file names or image objects</a><ul>
<li><a class="reference internal" href="#file-names-and-objects-3d-and-4d-images">5.1.1.1. File names and objects, 3D and 4D images</a></li>
<li><a class="reference internal" href="#file-name-matching-globbing-and-user-path-expansion">5.1.1.2. File name matching: &#8220;globbing&#8221; and user path expansion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fetching-open-datasets-from-internet">5.1.2. Fetching open datasets from Internet</a></li>
<li><a class="reference internal" href="#understanding-neuroimaging-data">5.1.3. Understanding neuroimaging data</a><ul>
<li><a class="reference internal" href="#nifti-and-analyze-data">5.1.3.1. Nifti and Analyze data</a></li>
<li><a class="reference internal" href="#niimg-like-objects">5.1.3.2. Niimg-like objects</a></li>
<li><a class="reference internal" href="#text-files-phenotype-or-behavior">5.1.3.3. Text files: phenotype or behavior</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">5. Manipulation brain volumes with nilearn</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="manipulating_images.html"
                        title="next chapter">5.2. Manipulating images: resampling, smoothing, masking, ROIs...</a></p>

<div class="navbar">
</div> <!-- end navbar -->

<script type="text/javascript">$('#searchbox-ml').show(0);</script>
<script type="text/javascript">$('#searchbox-site').show(0);</script>


        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="input-and-output-neuroimaging-data-representation">
<span id="extracting-data"></span><h1>5.1. Input and output: neuroimaging data representation<a class="headerlink" href="#input-and-output-neuroimaging-data-representation" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<p class="topic-title first"><strong>Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#inputing-data-file-names-or-image-objects" id="id1">Inputing data: file names or image objects</a></li>
<li><a class="reference internal" href="#fetching-open-datasets-from-internet" id="id2">Fetching open datasets from Internet</a></li>
<li><a class="reference internal" href="#understanding-neuroimaging-data" id="id3">Understanding neuroimaging data</a></li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="inputing-data-file-names-or-image-objects">
<span id="loading-data"></span><h2><a class="toc-backref" href="#id1">5.1.1. Inputing data: file names or image objects</a><a class="headerlink" href="#inputing-data-file-names-or-image-objects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="file-names-and-objects-3d-and-4d-images">
<h3>5.1.1.1. File names and objects, 3D and 4D images<a class="headerlink" href="#file-names-and-objects-3d-and-4d-images" title="Permalink to this headline">¶</a></h3>
<p>All Nilearn functions accept file names as arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">smoothed_img</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">smooth_img</span><span class="p">(</span><span class="s">&#39;/home/user/t_map001.nii&#39;</span><span class="p">)</span>  
</pre></div>
</div>
<p>Nilearn can operate on either file names or <a class="reference external" href="http://nipy.org/nibabel/nibabel_images.html">NiftiImage objects</a>. The later represent the
data loaded in memory. In the example above, the
function <a class="reference internal" href="../modules/generated/nilearn.image.smooth_img.html#nilearn.image.smooth_img" title="nilearn.image.smooth_img"><tt class="xref py py-func docutils literal"><span class="pre">smooth_img</span></tt></a> returns a Nifti1Image object, which can then
be readily passed to other nilearn functions.</p>
<p>In nilearn, we often use the term <em>&#8220;niimg&#8221;</em> as abbreviation that denotes
either a file name or a <a class="reference external" href="http://nipy.org/nibabel/nibabel_images.html">NiftiImage object</a>.</p>
<p>Niimgs can be 3D or 4D. A 4D niimg may for instance represent a time
series of 3D images. It can be <strong>a list of file names</strong>, if these contain
3D information:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># dataset folder contains subject1.nii and subject2.nii</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nilearn.image</span> <span class="kn">import</span> <span class="n">smooth_img</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_img</span> <span class="o">=</span> <span class="n">smooth_img</span><span class="p">([</span><span class="s">&#39;dataset/subject1.nii&#39;</span><span class="p">,</span> <span class="s">&#39;dataset/subject2.nii&#39;</span><span class="p">])</span> 
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">result_img</span></tt> is a 4D in-memory image, containing the data of both
subjects.</p>
</div>
<div class="section" id="file-name-matching-globbing-and-user-path-expansion">
<span id="filename-matching"></span><h3>5.1.1.2. File name matching: &#8220;globbing&#8221; and user path expansion<a class="headerlink" href="#file-name-matching-globbing-and-user-path-expansion" title="Permalink to this headline">¶</a></h3>
<p>You can specify files with <em>wildcard</em> matching patterns (as in Unix
shell):</p>
<blockquote>
<div><ul>
<li><p class="first"><strong>Matching multiple files</strong>: suppose the dataset folder contains
subject_01.nii, subject_03.nii, and subject_03.nii;
<tt class="docutils literal"><span class="pre">dataset/subject_*.nii</span></tt> is a glob expression matching all filenames:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Example with a smoothing process:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nilearn.image</span> <span class="kn">import</span> <span class="n">smooth_img</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result_img</span> <span class="o">=</span> <span class="n">smooth_img</span><span class="p">(</span><span class="s">&quot;dataset/subject_*.nii&quot;</span><span class="p">)</span> 
</pre></div>
</div>
<p>Note that the resulting is a 4D image.</p>
</li>
<li><p class="first"><strong>Expanding the home directory</strong> <tt class="docutils literal"><span class="pre">~</span></tt> is expanded to your home
directory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result_img</span> <span class="o">=</span> <span class="n">smooth_img</span><span class="p">(</span><span class="s">&quot;~/dataset/subject_01.nii&quot;</span><span class="p">)</span> 
</pre></div>
</div>
<p>Using <tt class="docutils literal"><span class="pre">~</span></tt> rather than specifying the details of the path is good
practice, as it will make it more likely that your script work on
different computers.</p>
</li>
</ul>
</div></blockquote>
<div class="topic">
<p class="topic-title first"><strong>Python globbing</strong></p>
<p>For more complicated use cases, Python also provides functions to work
with file paths, in particular, <a class="reference external" href="http://docs.python.org/2.7/library/glob.html#glob.glob" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">glob.glob</span></tt></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Unlike nilearn&#8217;s path expansion, the result of <a class="reference external" href="http://docs.python.org/2.7/library/glob.html#glob.glob" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">glob.glob</span></tt></a> is
not sorted and, depending on the computer you are running, they
might not be in alphabetic order. We advise you to rely on
nilearn&#8217;s path expansion.</p>
</div>
<p>To load data with globbing, we suggest that you use
<a class="reference internal" href="../modules/generated/nilearn.image.load_img.html#nilearn.image.load_img" title="nilearn.image.load_img"><tt class="xref py py-func docutils literal"><span class="pre">nilearn.image.load_img</span></tt></a>.</p>
</div>
</div>
</div>
<div class="section" id="fetching-open-datasets-from-internet">
<span id="datasets"></span><h2><a class="toc-backref" href="#id2">5.1.2. Fetching open datasets from Internet</a><a class="headerlink" href="#fetching-open-datasets-from-internet" title="Permalink to this headline">¶</a></h2>
<p>Nilearn provides dataset fetching function that
automatically downloads reference
datasets and atlases. They can be imported from
<a class="reference internal" href="../modules/reference.html#module-nilearn.datasets" title="nilearn.datasets"><tt class="xref py py-mod docutils literal"><span class="pre">nilearn.datasets</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">haxby_dataset</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">fetch_haxby</span><span class="p">(</span><span class="n">n_subjects</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  
</pre></div>
</div>
<p>They return a data structure that contains different pieces of
information on the retrieved dataset, including the
file names on hard disk:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># The different files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">haxby_dataset</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>  
<span class="go">[&#39;anat&#39;, &#39;description&#39;, &#39;func&#39;, &#39;mask&#39;, &#39;mask_face&#39;, &#39;mask_face_little&#39;,</span>
<span class="go">&#39;mask_house&#39;, &#39;mask_house_little&#39;, &#39;mask_vt&#39;, &#39;session_target&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Path to first functional file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">haxby_dataset</span><span class="o">.</span><span class="n">func</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  
<span class="go">/.../nilearn_data/haxby2001/subj1/bold.nii.gz</span>
</pre></div>
</div>
<p>Explanation and further resources of the dataset at hand can be retrieved as
follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">haxby_dataset</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>  
<span class="go">Haxby 2001 results</span>


<span class="go">Notes</span>
<span class="go">-----</span>
<span class="go">Results from a classical fMRI study that...</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For a list of all the data fetching functions in nilearn, see
<a class="reference internal" href="../modules/reference.html#datasets-ref"><em>nilearn.datasets: Automatic Dataset Fetching</em></a>.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="topic">
<p class="topic-title first"><strong>nilearn_data: Where is the downloaded data stored?</strong></p>
<p>The fetching functions download the reference datasets to the disk.
They save it locally for future use, in one of the
following directories (in order of priority, if present):</p>
<blockquote>
<div><ul class="simple">
<li>the folder specified by <cite>data_dir</cite> parameter in the fetching function</li>
<li>the global environment variable <cite>NILEARN_SHARED_DATA</cite></li>
<li>the user environment variable <cite>NILEARN_DATA</cite></li>
<li>the <cite>nilearn_data</cite> folder in the user home folder</li>
</ul>
</div></blockquote>
<p>The two different environment variables (NILEARN_SHARED_DATA and
NILEARN_DATA) are provided for multi-user systems, to distinguish a
global dataset repository that may be read-only at the user-level.
Note that you can copy that folder to another user&#8217;s computers to
avoid the initial dataset download on the first fetching call.</p>
<p>You can check in which directory nilearn will store the data with the
function <a class="reference internal" href="../modules/generated/nilearn.datasets.get_data_dirs.html#nilearn.datasets.get_data_dirs" title="nilearn.datasets.get_data_dirs"><tt class="xref py py-func docutils literal"><span class="pre">nilearn.datasets.get_data_dirs</span></tt></a>.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="understanding-neuroimaging-data">
<h2><a class="toc-backref" href="#id3">5.1.3. Understanding neuroimaging data</a><a class="headerlink" href="#understanding-neuroimaging-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="nifti-and-analyze-data">
<h3>5.1.3.1. Nifti and Analyze data<a class="headerlink" href="#nifti-and-analyze-data" title="Permalink to this headline">¶</a></h3>
<p>For volumetric data, nilearn works with data stored as in the Nifti
structure (via the <a class="reference external" href="http://nipy.sourceforge.net/nibabel/">nibabel</a> package).</p>
<p>The <a class="reference external" href="http://nifti.nimh.nih.gov/">NifTi</a> data structure (also used in
Analyze files) is the standard way of sharing data in neuroimaging
research. Three main components are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">data:</th><td class="field-body">raw scans in form of a numpy array: <tt class="docutils literal"><span class="pre">data</span> <span class="pre">=</span> <span class="pre">img.get_data()</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">affine:</th><td class="field-body">returns the transformation matrix that maps
from voxel indices of the numpy array to actual real-world
locations of the brain:
<tt class="docutils literal"><span class="pre">affine</span> <span class="pre">=</span> <span class="pre">img.get_affine()</span></tt></td>
</tr>
<tr class="field-odd field"><th class="field-name">header:</th><td class="field-body">low-level informations about the data (slice duration, etc.):
<tt class="docutils literal"><span class="pre">header</span> <span class="pre">=</span> <span class="pre">img.get_header()</span></tt></td>
</tr>
</tbody>
</table>
<p>If you need to load the data without using nilearn, read the <a class="reference external" href="http://nipy.sourceforge.net/nibabel/">nibabel</a>
documentation.</p>
<div class="topic">
<p class="topic-title first"><strong>Dataset formatting: data shape</strong></p>
<p>It is important to appreciate two main representations for
storing and accessing more than one Nifti images, that is sets
of MRI scans:</p>
<ul class="simple">
<li>a big 4D matrix representing (3D MRI + 1D for time), stored in a single
Nifti file.
<a class="reference external" href="http://www.fmrib.ox.ac.uk/fsl/">FSL</a> users tend to
prefer this format.</li>
<li>several 3D matrices representing each time point (single 3D volume) of the
session, stored in set of 3D Nifti or analyse files.
<a class="reference external" href="http://www.fil.ion.ucl.ac.uk/spm/">SPM</a> users tend
to prefer this format.</li>
</ul>
</div>
</div>
<div class="section" id="niimg-like-objects">
<span id="niimg"></span><h3>5.1.3.2. Niimg-like objects<a class="headerlink" href="#niimg-like-objects" title="Permalink to this headline">¶</a></h3>
<p>Nilearn functions take as input argument what we call &#8220;Niimg-like
objects&#8221;:</p>
<p><strong>Niimg:</strong> A Niimg-like object can be one of the following:</p>
<blockquote>
<div><ul class="simple">
<li>A string with a file path to a Nifti or Analyse image</li>
<li>An <tt class="docutils literal"><span class="pre">SpatialImage</span></tt> from nibabel, ie an object exposing <tt class="docutils literal"><span class="pre">get_data()</span></tt>
and <tt class="docutils literal"><span class="pre">get_affine()</span></tt> methods, typically a <tt class="docutils literal"><span class="pre">Nifti1Image</span></tt> from <a class="reference external" href="http://nipy.sourceforge.net/nibabel/">nibabel</a>.</li>
</ul>
</div></blockquote>
<p><strong>Niimg-4D:</strong> Similarly, some functions require 4D Nifti-like
data, which we call Niimgs or Niimg-4D. Accepted input arguments are:</p>
<blockquote>
<div><ul class="simple">
<li>A path to a 4D Nifti image</li>
<li>List of paths to 3D Nifti images</li>
<li>4D Nifti-like object</li>
<li>List of 3D Nifti-like objects</li>
</ul>
</div></blockquote>
<div class="topic">
<p class="topic-title first"><strong>Image affines</strong></p>
<p>If you provide a sequence of Nifti images, all of them must have the same
affine.</p>
</div>
</div>
<div class="section" id="text-files-phenotype-or-behavior">
<h3>5.1.3.3. Text files: phenotype or behavior<a class="headerlink" href="#text-files-phenotype-or-behavior" title="Permalink to this headline">¶</a></h3>
<p>Phenotypic or behavioral data are often provided as text or CSV
(Comma Separated Values) file. They
can be loaded with <cite>numpy.genfromtxt</cite> but you may have to specify some options
(typically <cite>skip_header</cite> ignores column titles if needed).</p>
<p>For the Haxby datasets, we can load the categories of the images
presented to the subject:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">nilearn</span> <span class="kn">import</span> <span class="n">datasets</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">haxby_dataset</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">fetch_haxby</span><span class="p">(</span><span class="n">n_subjects</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">recfromcsv</span><span class="p">(</span><span class="n">haxby_dataset</span><span class="o">.</span><span class="n">session_target</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">&quot; &quot;</span><span class="p">)</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">stimuli</span> <span class="o">=</span> <span class="n">labels</span><span class="p">[</span><span class="s">&#39;labels&#39;</span><span class="p">]</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">stimuli</span><span class="p">))</span>  
<span class="go">[&#39;bottle&#39; &#39;cat&#39; &#39;chair&#39; &#39;face&#39; &#39;house&#39; &#39;rest&#39; &#39;scissors&#39; &#39;scrambledpix&#39;</span>
<span class="go"> &#39;shoe&#39;]</span>
</pre></div>
</div>
<div class="topic">
<p class="topic-title first"><strong>Reading CSV with pandas</strong></p>
<p><a class="reference external" href="http://pandas.pydata.org/">Pandas</a> is a powerful package to read
data from CSV files and manipulate them.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="manipulating_images.html" title="5.2. Manipulating images: resampling, smoothing, masking, ROIs..."
             >next</a></li>
        <li class="right" >
          <a href="index.html" title="5. Manipulation brain volumes with nilearn"
             >previous</a> |</li>
<li><a href="../index.html">Nilearn Home</a> |&nbsp;</li>
<li><a href="../user_guide.html">User Guide</a> |&nbsp;</li>
<li><a href="../auto_examples/index.html">Examples</a> |&nbsp;</li>
<li><a href="../modules/reference.html">Reference</a> |&nbsp;</li>
<li id="navbar-about"><a href="../authors.html">About</a>|&nbsp;</li>
<li id="navbar-ecosystem"><a href="http://www.nipy.org/">Nipy ecosystem</a></li>

          <li><a href="../user_guide.html" >User guide: table of contents</a> &raquo;</li>
          <li><a href="index.html" >5. Manipulation brain volumes with nilearn</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
            &copy; The nilearn developers 2010-2015.
          Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.
        <span style="padding-left: 5ex;">
          <a href="../_sources/manipulating_images/input_output.txt"
        	 rel="nofollow">Show this page source</a>
        </span>
    </div>
  </body>
</html>