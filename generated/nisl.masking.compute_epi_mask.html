

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>6.4.1.1. nisl.masking.compute_epi_mask &mdash; NeuroImaging with the scikit-learn</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="NeuroImaging with the scikit-learn" href="../index.html" />
    <link rel="up" title="6. fMRI data manipulation: input/output, masking, visualization..." href="../dataset_manipulation.html" />
    <link rel="next" title="7. Reference" href="../modules/classes.html" />
    <link rel="prev" title="6.1.4. nisl.datasets.fetch_adhd" href="nisl.datasets.fetch_adhd.html" />
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-41920728-1']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

  </head>
  <body>

    <div class="header-wrapper">
        <div class="header">
                <p class="logo"><a href="../index.html">
                        <img src="../_static/scikit-learn-logo-small.png" alt="Logo"/>
                    </a>
                </p><div class="navbar">
                    <ul>
	                    <li><a href="../index.html">User Guide</a></li>
                        <li><a href="../auto_examples/index.html">Examples</a></li>
                        <li><a href="../modules/classes.html">Reference</a></li>
                    </ul>
                    <div class="search_form">
                        <div id="cse" style="width: 100%;"></div>
                        <script src="http://www.google.com/jsapi" type="text/javascript"></script>
                        <script type="text/javascript">
                            google.load('search', '1', {language : 'en'});
                            google.setOnLoadCallback(function() {
                                var customSearchControl = new google.search.CustomSearchControl('014136483057745874622:r-npolb1uki');
                                customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
                                var options = new google.search.DrawOptions();
                                options.setAutoComplete(true);
                                customSearchControl.draw('cse', options);
                            }, true);
                        </script>
                    </div>
                </div> <!-- end navbar --></div> <!-- end header -->
    </div> <!-- end header-wrapper -->
    <div class="content-wrapper">
        <div class="sphinxsidebar">
	        <div class="sphinxsidebarwrapper">
	                    <div class="rel">
	                
	                <!-- rellinks[1:] is an ugly hack to avoid link to module
	                     index  -->
                    	<div class="rellink">
	                        <a href="nisl.datasets.fetch_adhd.html" title="6.1.4. nisl.datasets.fetch_adhd" accesskey="P">
                                Previous
	                            <br />
	                            <span class="smallrellink">
                            	    6.1.4. nisl.data...
                        	    </span>
                           	        <span class="hiddenrellink">
                                        6.1.4. nisl.datasets.fetch_adhd
                                    </span>
                        	    
	                        </a>
	                    </div>
	                        <div class="spacer">
	                            &nbsp;
	                        </div>
	                    
                    	<div class="rellink">
	                        <a href="../modules/classes.html" title="7. Reference" accesskey="N">
                                Next
	                            <br />
	                            <span class="smallrellink">
                            	    7. Reference
                        	    </span>
                           	        <span class="hiddenrellink">
                                        7. Reference
                                    </span>
                        	    
	                        </a>
	                    </div>
	                <!-- Ad a link to the 'up' page -->
                        <div class="spacer">
                            &nbsp;
                        </div>
                        <div class="rellink">
                            <a href="../dataset_manipulation.html" title="6. fMRI data manipulation: input/output, masking, visualization..." >
                                Up
                                <br/>
                                <span class="smallrellink">
                                    6. fMRI data man...
                                </span>
                                    <span class="hiddenrellink">
                                        6. fMRI data manipulation: input/output, masking, visualization...
                                    </span>
                                
                            </a>
                        </div>
                    </div>
                    <h3>This page</h3>
	                <ul>
<li><a class="reference internal" href="#">6.4.1.1. nisl.masking.compute_epi_mask</a></li>
</ul>

                

                <h3>Giving credit</h3>
                <p>Please consider <a href="../AUTHORS.html#citing">citing the 
                    scikit-learn</a> if you use it.</p>

            </div>
        </div>

        <div class="content">
                
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nisl-masking-compute-epi-mask">
<h1>6.4.1.1. nisl.masking.compute_epi_mask<a class="headerlink" href="#nisl-masking-compute-epi-mask" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="nisl.masking.compute_epi_mask">
<tt class="descclassname">nisl.masking.</tt><tt class="descname">compute_epi_mask</tt><big>(</big><em>mean_epi_img</em>, <em>lower_cutoff=0.2</em>, <em>upper_cutoff=0.9</em>, <em>connected=True</em>, <em>opening=2</em>, <em>exclude_zeros=False</em>, <em>ensure_finite=True</em>, <em>verbose=0</em><big>)</big><a class="headerlink" href="#nisl.masking.compute_epi_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a brain mask from fMRI data in 3D or 4D ndarrays.</p>
<p>This is based on an heuristic proposed by T.Nichols:
find the least dense point of the histogram, between fractions
lower_cutoff and upper_cutoff of the total image histogram.</p>
<p>In case of failure, it is usually advisable to increase lower_cutoff.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>mean_epi: nifti-like image</strong> :</p>
<blockquote>
<div><p>EPI image, used to compute the mask. 3D and 4D images are accepted.</p>
</div></blockquote>
<p><strong>lower_cutoff: float, optional</strong> :</p>
<blockquote>
<div><p>lower fraction of the histogram to be discarded.</p>
</div></blockquote>
<p><strong>upper_cutoff: float, optional</strong> :</p>
<blockquote>
<div><p>upper fraction of the histogram to be discarded.</p>
</div></blockquote>
<p><strong>connected: bool, optional</strong> :</p>
<blockquote>
<div><p>if connected is True, only the largest connect component is kept.</p>
</div></blockquote>
<p><strong>opening: bool or int, optional</strong> :</p>
<blockquote>
<div><p>if opening is True, an morphological opening is performed, to keep
only large structures. This step is useful to remove parts of
the skull that might have been included.
If opening is an integer &#8216;n&#8217;, it is performed via &#8216;n&#8217; erosion
followed by &#8216;n&#8217; dilations.</p>
</div></blockquote>
<p><strong>ensure_finite: bool</strong> :</p>
<blockquote>
<div><p>If ensure_finite is True, the non-finite values (NaNs and infs)
found in the images will be replaced by zeros</p>
</div></blockquote>
<p><strong>exclude_zeros: bool, optional</strong> :</p>
<blockquote>
<div><p>Consider zeros as missing values for the computation of the
threshold. This option is useful if the images have been
resliced with a large padding of zeros.</p>
</div></blockquote>
<p><strong>verbose: int, optional</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>mask: nibabel.Nifti1Image</strong> :</p>
<blockquote class="last">
<div><p>The brain mask (3D image)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
            <div class="clearer"></div>
        </div>
    </div>

    <div class="footer">
        &copy; INRIA Parietal 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="../_sources/generated/nisl.masking.compute_epi_mask.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel">
    
    <div class="buttonPrevious">
      <a href="nisl.datasets.fetch_adhd.html">
        Previous
      </a>
    </div>
    <div class="buttonNext">
      <a href="../modules/classes.html">
        Next
      </a>
    </div>
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#FF9C34');
           },
           function () {
               $(this).css('background-color', '#A7D6E2');
           }
       );
     </script>
  </body>
</html>